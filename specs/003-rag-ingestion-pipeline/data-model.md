# Data Model for RAG Ingestion Pipeline

## Entities

### 1. Book Content Chunk

**Description**: Represents a segment of text extracted from a Docusaurus page, suitable for embedding.

**Attributes**:

*   **`text_content`** (string, required): The actual textual content of the chunk.
*   **`source_url`** (string, required): The URL of the Docusaurus page from which the chunk was extracted. This serves as a unique identifier for the source document.
*   **`module`** (string, optional): The name or identifier of the module/chapter the chunk belongs to (e.g., "Module1 - ROS2 Basics").
*   **`chapter`** (string, optional): An alias for `module` or a more granular grouping within a module. (e.g. "ROS2 Basics")
*   **`section`** (string, optional): The heading or sub-heading under which the chunk falls, providing hierarchical context.
*   **`heading`** (string, optional): An alias for `section` or a more granular grouping within a section. (e.g. "Setting up ROS2")

### 2. Vector Record

**Description**: Represents the embedding of a `Book Content Chunk` stored in the vector database, along with its associated metadata.

**Attributes**:

*   **`vector_embedding`** (array of floats, required): The numerical representation (vector) of the `text_content`, generated by the Cohere embedding model.
*   **`metadata`** (object, required): A dictionary containing structured information about the original `Book Content Chunk`. This object will typically include:
    *   `source_url` (string, required): Mirrors the `source_url` from the `Book Content Chunk`.
    *   `module` (string, optional): Mirrors the `module` from the `Book Content Chunk`.
    *   `chapter` (string, optional): Mirrors the `chapter` from the `Book Content Chunk`.
    *   `section` (string, optional): Mirrors the `section` from the `Book Content Chunk`.
    *   `heading` (string, optional): Mirrors the `heading` from the `Book Content Chunk`.
    *   `original_text_start` (integer, optional): Starting character index of the chunk in the original page text (useful for debugging/highlighting).
    *   `original_text_end` (integer, optional): Ending character index of the chunk in the original page text.
